---
import Evento from '../../assets/academy.jpeg';
import Evento1 from '../../assets/insight.jpeg'
import Evento2 from '../../assets/insight2.jpeg'

const events = [
  {
    image: Evento1.src,
    title: "ACTIPULSE INSIGHTS",
    info: "Virtudes y ventajas de la neuromodulacion en estres postraumatico.",
    deadline: "26 / 04 / 2025",
    link: "https://info.actipulse.com/es/actipulse-insights",
  },
  {
    image: Evento2.src,
    title: "ACTIPULSE INSIGHTS",
    info: "Bornout: el enemigo silencioso de la salud mental.",
    deadline: "09 / 04 / 2025",
    link: "https://info.actipulse.com/es/actipulse-insights",
  },
  {
    image: Evento.src,
    title: "Actipulse academy",
    info: "Diplomado en tecnicas de neuromodulacion.",
    deadline: "12 / 04 / 2025",
    link: "https://wa.me/5529408085",
  },
];
---

<section class="events">
  <h2>Próximos eventos virtuales</h2>
  <div class="event-list">
    {events.map((event, index) => (
      <div class="event-card">
        <img src={event.image} alt={event.title} />
        <div class="event-info">
          <p class="date" id={`date-${index}`}>{event.deadline}</p>
          <h3>{event.title}</h3>
          <p>{event.info}</p>
          <button id={`btn-${index}`} class="active">REGISTRARME</button>
        </div>
      </div>
    ))}
  </div>
</section>


  <script>
document.addEventListener("DOMContentLoaded", function () {
  const currentDate = new Date();
  currentDate.setHours(0, 0, 0, 0);

  const eventList = [
    { deadline: "2025-04-26", link: "https://info.actipulse.com/es/actipulse-insights" },
    { deadline: "2025-04-09", link: "https://info.actipulse.com/es/actipulse-insights" },
    { deadline: "2025-04-12", link: "https://wa.me/5529408085" },
  ];

  eventList.forEach((ev, index) => {
    const deadlineDate = new Date(ev.deadline);
    deadlineDate.setHours(0, 0, 0, 0);

    const button = document.getElementById(`btn-${index}`);

    if (button) {
      if (currentDate > deadlineDate) {
        button.textContent = "AGOTADO";
        button.classList.add("expired");
      } else {
        button.addEventListener("click", () => {
          window.location.href = ev.link;
        });
      }
    }
  });
});

  </script>


  <style>
    /* Fondo de la sección con imagen */
    .events {
      text-align: center;
      padding: 40px 20px;
      background: white url('/ruta-de-tu-imagen-de-fondo.jpg') no-repeat center center;
      background-size: cover;
    }
  
    .event-list {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }
  
    .event-card {
      background: white;
      border: 1px solid #ddd;
      border-radius: 10px;
      overflow: hidden;
      max-width: 300px;
      text-align: center;
      box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
      padding: 15px; /* Padding para separar el contenido de los bordes */
    }
  
    img {
      width: 100%;
      height: auto;
      margin-bottom: 5px; /* Espaciado entre la imagen y el texto */
    }
  
    .event-info {
      padding: 15px;
      text-align: left; /* Mueve el texto a la izquierda */
    }
  
    .date {
      font-size: 1.2em;
      font-weight: bold;
      margin: 5px 0; /* Reduce el espaciado entre la fecha y otros elementos */
    }
  
    h3 {
      margin: 5px 0; /* Reduce espacio arriba y abajo del título */
    }
  
    p {
      margin: 5px 0; /* Ajusta los párrafos para que no tengan demasiado espacio */
    }
  
    button {
      background-color: white;
      border-color: #007bff;
      color: #007bff;
      /* border: none; */
      padding: 10px;
      cursor: pointer;
      width: 100%;
      font-size: 1em;
      border-radius: 5px;
      transition: transform 0.2s ease-in-out, background-color 0.2s ease-in-out;
    }
  
    /* Animación de hover */
    button:hover {
      background-color: #007bff;
      border-color: #007bff;
      color: white;
      transform: scale(1.05);
    }
  
    .expired {
      color: white;
      border-color: grey;
      background-color: grey;
      cursor: default;
      transition: none;
    }

    .expired:hover {
      color: white;
      border-color: grey;
      background-color: grey;
      cursor: default;
      transform: none;
    }
  
    /* Adaptación a móviles */
    @media (max-width: 768px) {
      .event-list {
        flex-direction: column;
        align-items: center;
      }
  
      .event-card {
        max-width: 90%;
      }
    }
  </style>
  